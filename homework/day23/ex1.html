<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const products = [
            {
                id: 1,
                name: "Apple iPhone 12",
                price: 1000,
            },
            {
                id: 2,
                name: "Samsung Galaxy S21",
                price: 900,
            },
            {
                id: 3,
                name: "Xiaomi Mi 11",
                price: 800,
            },
            {
                id: 4,
                name: "Apple iPhone 11",
                price: 700,
            },
            {
                id: 5,
                name: "Samsung Galaxy S20",
                price: 600,
            },
            {
                id: 6,
                name: "Xiaomi Mi 10",
                price: 500,
            },
        ];

        function getTopProducts(products, top) {
            const topProducts = [];
            const copyProducts = [...products];

            if (!Array.isArray(products) || typeof top !== "number" || top <= 0) {
                return "Đối số chuyền vào không hợp lệ: 'products' phải là một mảng và 'top' phải là số dương";
            }


            if (top >= copyProducts.length) {
                for (let i = 0; i < copyProducts.length; i++) {
                    let maxPrice = 0;

                    for (let j = 1; j < copyProducts.length - i; j++) {
                        if (copyProducts[j].price > copyProducts[maxPrice].price) {
                            maxPrice = j;
                        }
                    }
                    topProducts.push(copyProducts[maxPrice]);
                }

                return topProducts;
            }

            for (let i = 0; i < top; i++) {
                let maxProduct = copyProducts[0];
                let maxPrice = 0;

                for (let j = 1; j < copyProducts.length; j++) {
                    if (copyProducts[j].price > maxProduct.price) {
                        maxProduct = copyProducts[j];
                        maxPrice = j;
                    }
                }

                topProducts.push(maxProduct);

                copyProducts.splice(maxPrice, 1);
            }
            return topProducts;
        }

        console.log(getTopProducts(products, 0));

    </script>
</body>

</html>